{
  "hash": "b9d4933fda7c42648d5b431c6ff87869",
  "result": {
    "markdown": "---\ntitle: \"Lesson 5: </br>Visual Multivariate Analysis\"\nauthor: \"Dr. Kam Tin Seong<br/>Assoc. Professor of Information Systems (Practice)\"\ninstitute: \"School of Computing and Information Systems,<br/>Singapore Management University\"\ndate: \"2023-02-03\"\nformat: \n  revealjs:\n    width: 1600\n    height: 900\n    show-notes: false\n    slide-number: true\n    show-slide-number: 'all'\ndate-format: \"DD MMM YYYY\"\nexecute: \n  echo: true\n  eval: true\n  warning: false\neditor: visual  \n---\n\n\n## Content\n\nWhat will you learn from this lesson?\n\n-   Understand the characteristics of multidimensional data\n-   Visual analytics techniques and tools for visualising and analysing multidimensional continuous data\n-   Visual analytics techniques and tools for visualising and analysing multidimensional categorical data\n-   Sensing both categorical and continuous multidimensional data\n-   Multidimensional data analysis best practices\n\n::: notes\nIn this lesson, I am going to share with you a collection of visual multivariate analysis techniques.\n:::\n\n## Visual analytics techniques\n\n-   Scatterplot Matrix\n-   Ternary plot\n-   Glyphs\n-   Parallel coordinates\n-   Heatmap\n\n::: notes\nThere are many Visual Multivariate Analysis technqiues. In this lesson, I am going share with you five popular one. They are:\n:::\n\n## Introducing Multidimensional Data\n\n### Wine data set\n\nThere are 13 variables in this data set. 11 of them are in continuous data type, one in ordinal scale and one in nominal scale.\n\n::: {style=\"font-size: 0.75em\"}\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> fixed acidity </th>\n   <th style=\"text-align:right;\"> volatile acidity </th>\n   <th style=\"text-align:right;\"> citric acid </th>\n   <th style=\"text-align:right;\"> residual sugar </th>\n   <th style=\"text-align:right;\"> chlorides </th>\n   <th style=\"text-align:right;\"> free sulfur dioxide </th>\n   <th style=\"text-align:right;\"> total sulfur dioxide </th>\n   <th style=\"text-align:right;\"> density </th>\n   <th style=\"text-align:right;\"> pH </th>\n   <th style=\"text-align:right;\"> sulphates </th>\n   <th style=\"text-align:right;\"> alcohol </th>\n   <th style=\"text-align:right;\"> quality </th>\n   <th style=\"text-align:left;\"> type </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 7.4 </td>\n   <td style=\"text-align:right;\"> 0.70 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 0.076 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 0.9978 </td>\n   <td style=\"text-align:right;\"> 3.51 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 9.4 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7.8 </td>\n   <td style=\"text-align:right;\"> 0.88 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 2.6 </td>\n   <td style=\"text-align:right;\"> 0.098 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 0.9968 </td>\n   <td style=\"text-align:right;\"> 3.20 </td>\n   <td style=\"text-align:right;\"> 0.68 </td>\n   <td style=\"text-align:right;\"> 9.8 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7.8 </td>\n   <td style=\"text-align:right;\"> 0.76 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n   <td style=\"text-align:right;\"> 2.3 </td>\n   <td style=\"text-align:right;\"> 0.092 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 0.9970 </td>\n   <td style=\"text-align:right;\"> 3.26 </td>\n   <td style=\"text-align:right;\"> 0.65 </td>\n   <td style=\"text-align:right;\"> 9.8 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 11.2 </td>\n   <td style=\"text-align:right;\"> 0.28 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 0.075 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 0.9980 </td>\n   <td style=\"text-align:right;\"> 3.16 </td>\n   <td style=\"text-align:right;\"> 0.58 </td>\n   <td style=\"text-align:right;\"> 9.8 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7.4 </td>\n   <td style=\"text-align:right;\"> 0.70 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 0.076 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 0.9978 </td>\n   <td style=\"text-align:right;\"> 3.51 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 9.4 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7.4 </td>\n   <td style=\"text-align:right;\"> 0.66 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 1.8 </td>\n   <td style=\"text-align:right;\"> 0.075 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0.9978 </td>\n   <td style=\"text-align:right;\"> 3.51 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 9.4 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> red </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::: {style=\"font-size: 0.6em\"}\nSource: [UCI Machine Learning Repository](https://archive.ics.uci.edu/ml/datasets/Wine)\n:::\n\n::: notes\nTable in this slide shows a typical multivariate data sets. This is the popular wine quality data from UCI Machine Learning Repository. It consists of 13 variables in this data set. The first 11 variables are in continuous data type. The quality and type variables are in ordinal scale and nominal scale respectively.\n:::\n\n## Scatterplot Matrix\n\n::: columns\n::: {.column width=\"50%\"}\n-   **Scatterplot matrix** (also known as **correlation matrix**) is a graphical method used to reveal the relationship between multiple variables *pairwisely*.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-2.jpg)\n:::\n:::\n\n::: notes\nEach black dot in the scatterplot matrix represents an observation in the data table.\n:::\n\n------------------------------------------------------------------------\n\n### Scatterplot Matrix: Problem with large data\n\n![](img/image5-3.jpg)\n\n::: notes\nWhen a relatively large number of observation points is used, the scatterplot matrix failed to reveal the pair relationship effectively.\n:::\n\n## Correlogram\n\n::: columns\n::: {.column width=\"50%\"}\n-   [`Correlogram`](https://www.data-to-viz.com/graph/correlogram.html) uses **visual geometrics** such as ellipse, circle, square, and bars to replace the scatterplot in correlation matrix.\n\n-   It is very useful to reveal pair-relationships between variables in a large correlation matrix.\n\n-   In this plot, correlation coefficients is colored according to the value.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-4.jpg){width=\"700\"}\n:::\n:::\n\n::: notes\nFor positive correlation, the colour intensity change from light blue to dark blue when the correlation coefficient values increases from 0 to 1. For negative correlation, the colour intensity change from light red to dark red when the correlation coefficient values increase from 0 to -1. Besides colour, the shape and direction of the ellipse also used to map the correlation coefficient. For example, the direction of the ellipses indicate positive or negative correlation and thin ellipses are shown paired variables with strong linear correlation.\n:::\n\n------------------------------------------------------------------------\n\n### Visual abstractions for rendering correlation values.\n\n![](img/image5-5.jpg)\n\n::: notes\nFigure in this slide shows the visual variables commonly used to build correlogram. These include visual objects such as circle, ellipse, bar, and shaded. Other visual variables include colour, pattern, direction and number.\n:::\n\n------------------------------------------------------------------------\n\n### **corrgram** package\n\n::: columns\n::: {.column width=\"50%\"}\n-   The [**corrgram**](https://kwstat.github.io/corrgram/index.html) is one of the oldest R package specially designed to correlograms. You can choose what to display in the upper, lower and diagonal part of the figure: scatterplot, pie chart, text, ellipse and more.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-6.jpg){width=\"700\"}\n:::\n:::\n\n------------------------------------------------------------------------\n\n### ggstatsplot package\n\n::: columns\n::: {.column width=\"50%\"}\n-   The [*ggcorrmat()*](https://indrajeetpatil.github.io/ggstatsplot/reference/ggcorrmat.html) of [**ggstatsplot**](https://indrajeetpatil.github.io/ggstatsplot/) package can be used to plot a correlogram and their corresponding coefficients.\n\n-   To learn more, refer to [ggcorrmat](https://indrajeetpatil.github.io/ggstatsplot/articles/web_only/ggcorrmat.html) and the [function's reference guide](https://indrajeetpatil.github.io/ggstatsplot/reference/ggcorrmat.html).\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-7.jpg)\n:::\n:::\n\n::: notes\nOne of the added feature in `ggcorrmat()` of ggstatsplot is the statistics report. The statistical report is conformed to APA standard.\\\nWith `ggcorrmat()`, we can have both visual representation and statistical testing report. Furthermore, the statistical test include both frequentist versus bayesian methods.\n:::\n\n------------------------------------------------------------------------\n\n### Corrplot package\n\n::: columns\n::: {.column width=\"50%\"}\n-   The correlogram on the right is produced by using R [**corrplot**](https://cran.r-project.org/web/packages/corrplot/index.html).\n\n-   The article entitle [An Introduction to corrplot Package](https://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html) provides a good overview of the functions of the package.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-8.jpg)\n:::\n:::\n\n::: notes\nOne of important feature of **corrplot** package that I enjoyed most is it's ability to reorder the correlation matrix by using selected statistical algorithms. Currently, four methods are provided, they are: AOE, FPC, hclust, alphabet. You can find the detail of each methods by visiting the recommended article.\n:::\n\n------------------------------------------------------------------------\n\n### Multivariate data with both continuous and categorical variables\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> ID </th>\n   <th style=\"text-align:left;\"> CLASS TYPE </th>\n   <th style=\"text-align:left;\"> GENDER </th>\n   <th style=\"text-align:left;\"> RACE </th>\n   <th style=\"text-align:right;\"> ENGLISH </th>\n   <th style=\"text-align:right;\"> MATHS </th>\n   <th style=\"text-align:right;\"> SCIENCE </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Student321 </td>\n   <td style=\"text-align:left;\"> 3I </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Malay </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Student305 </td>\n   <td style=\"text-align:left;\"> 3I </td>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:left;\"> Malay </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Student289 </td>\n   <td style=\"text-align:left;\"> 3H </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Chinese </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Student227 </td>\n   <td style=\"text-align:left;\"> 3F </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Chinese </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 31 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Student318 </td>\n   <td style=\"text-align:left;\"> 3I </td>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:left;\"> Malay </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Student306 </td>\n   <td style=\"text-align:left;\"> 3I </td>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:left;\"> Malay </td>\n   <td style=\"text-align:right;\"> 31 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n::: notes\nThere are time the data set comprises of both continuous and categorical variables as shown in the slide.\n:::\n\n------------------------------------------------------------------------\n\n### Correlogram: GGally Package\n\n::: columns\n::: {.column width=\"50%\"}\n-   The [**GGally**](https://ggobi.github.io/ggally/) package offers great options to build correlograms.\n\n-   The [*ggpairs()*](https://ggobi.github.io/ggally/reference/ggpairs.html) function build a classic correlogram with scatterplot, correlation coefficient and variable distribution. On top of that, it is possible to inject ggplot2 code, for instance to color categories.\n\n-   Visit this [link](http://vita.had.co.nz/papers/gpp.html) to learn more about Generalised Pairs Plot\n:::\n\n::: {.column width=\"50%\"}\nGeneralised Pairs Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Lesson05-VMA_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n:::\n:::\n\n## Beyond Visualising Variables Pairwisely\n\n### The data\n\n![](img/image5-10.jpg)\n\n## Ternary Plot\n\n::: columns\n::: {.column width=\"50%\"}\n-   A ternary plot (also known as ternary graph, triangle plot, simplex plot, Gibbs triangle or de Finetti diagram) is a [barycentric plot](https://en.wikipedia.org/wiki/Barycentric_coordinate_system) on three variables which sum to a constant, usually in percentage.\n\n-   It graphically depicts the ratios of the three variables as positions in an [equilateral triangle](https://en.wikipedia.org/wiki/Equilateral_triangle).\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-11.jpg)\n:::\n:::\n\n------------------------------------------------------------------------\n\n### ggtern package\n\n::: columns\n::: {.column width=\"50%\"}\n-   [ggtern](http://www.ggtern.com/) is a package that extends the functionality of ggplot2, giving the capability to plot ternary diagrams for (subset of) the ggplot2 proto geometries.\n\n-   For a good start, please refer to the article entitle [ggtern: Ternary Diagrams Using ggplot2](https://www.jstatsoft.org/article/view/v087c03)\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-12.jpg)\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Glyphs\n\n::: columns\n::: {.column width=\"50%\"}\n-   Star plot (Chambers 1983)(also known as radar chart, star chart and spider chart) is a method of displaying multivariate data.\n-   The star plot consists of a sequence of equi-angular spokes, called radii, with each spoke representing one of the variables. The data length of a spoke is proportional to the magnitude of the variable for the data point relative to the maximum magnitude of the variable across all data points. A line is drawn connecting the data values for each spoke. This gives the plot a star-like appearance and the origin of the name of this plot.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-13.jpg){width=\"450\"}\n:::\n:::\n\n------------------------------------------------------------------------\n\n### Multiple Glyphs Chart\n\n![](img/image5-14.jpg)\n\n------------------------------------------------------------------------\n\n### Glyphs Chart in R\n\n::: columns\n::: {.column width=\"50%\"}\n-   In R, *radarchart()* of **fmsb** library is the best tool to build radar chart.\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n:::\n\n:::\n:::\n\n## Visualising and Analysing Multivariate Data: Heatmap method\n\n::: columns\n::: {.column width=\"50%\"}\n-   A heat map (or heatmap) is a graphical representation of data where the individual values contained in a matrix are represented as colors.\n:::\n\n::: {.column width=\"50%\"}\n![](img/image5-15.jpg)\n:::\n:::\n\n::: notes\n-   When applied to a tabular format, heatmaps are useful for cross-examining multivariate data, through placing variables in the columns and observation (or records) in row and colouring the cells within the table.\n-   Heatmaps are good for showing variance across multiple variables, revealing any patterns, displaying whether any variables are similar to each other, and for detecting if any correlations exist in-between them.\n-   It is important to note that when the values are all positive or all negative, a colour scheme with different intensity should be used. On the other hand, if the values are in both positive and negative, then, diverging colour scheme should be used.\n:::\n\n------------------------------------------------------------------------\n\n### R packages for creating statis Heatmap\n\nThere are many R packages and functions can be used to drawing static heatmaps, they are:\n\n-   [heatmap()](https://www.rdocumentation.org/packages/stats/versions/3.6.0/topics/heatmap)of R stats package. It draws a simple heatmap.\n-   [heatmap.2()](https://www.rdocumentation.org/packages/gplots/versions/3.0.1.1/topics/heatmap.2) of **gplots** R package. It draws an enhanced heatmap compared to the R base function.\n-   [pheatmap()](https://www.rdocumentation.org/packages/pheatmap/versions/1.0.12/topics/pheatmap) of [**pheatmap**](https://www.rdocumentation.org/packages/pheatmap/versions/1.0.12) R package. **pheatmap** package also known as Pretty Heatmap. The package provides functions to draws pretty heatmaps and provides more control to change the appearance of heatmaps.\n-   [**ComplexHeatmap**](https://bioconductor.org/packages/release/bioc/html/ComplexHeatmap.html) package of R/Bioconductor package. The package draws, annotates and arranges complex heatmaps (very useful for genomic data analysis). The full reference guide of the package is available [here](https://jokergoo.github.io/ComplexHeatmap-reference/book/).\n-   [**superheat**](https://cran.r-project.org/web/packages/superheat/) package: A Graphical Tool for Exploring Complex Datasets Using Heatmaps. A system for generating extendable and customizable heatmaps for exploring complex datasets, including big data and data with multiple data types. The full reference guide of the package is available [here](https://rlbarter.github.io/superheat/).\n\n------------------------------------------------------------------------\n\n### R package for creating Interactive Heatmap: heatmaply package\n\n::: columns\n::: {.column with=\"50%\"}\n-   [**heatmaply**](https://talgalili.github.io/heatmaply/) is an R package for building interactive cluster heatmap that can be shared online as a stand-alone HTML file. It is designed and maintained by Tal Galili.\n\n-   Before we get started, you should review the [Introduction to Heatmaply](https://cran.r-project.org/web/packages/heatmaply/vignettes/heatmaply.html) to have an overall understanding of the features and functions of Heatmaply package. You are also required to have the [user manual](https://talgalili.github.io/heatmaply/index.html)of the package handy with you for reference purposes.\n:::\n\n::: {.column width=\"50%\"}\n![:scale 85%](img/image5-16.jpg)\n:::\n:::\n\n## Visualising and Analysing Multivariate Data\n\n### Parallel Coordinates Plot Method\n\nParallel Coordinates plot or Parallel plot allows to compare the feature of several individual observations on a set of numeric variables.\n\n![](img/image5-17.jpg)\n\n::: notes\nEach vertical bar represents a variable and usually has its own scale. (The units can even be different). Values are then plotted as series of lines connected across each axis. Similar to heatmap, interactivity should be used to complete the data exploration and analysis when using parallel coordinates plot.\n:::\n\n------------------------------------------------------------------------\n\n### Parallel Coordinates: Brushing\n\n![](img/image5-18.jpg)\n\n::: notes\nIn this slide, brushing is use to select several observations of interest. With brushing function, we can compare them easily.\n:::\n\n------------------------------------------------------------------------\n\n### Parallel Coordinates: Colour and Highlighting\n\n![](img/image5-19.jpg)\n\n::: notes\nIn this slide, colour and highlighting interactive functions is used to select observation of interest.\n:::\n\n------------------------------------------------------------------------\n\n### Parallel Coordinates: Filtering\n\n![](img/image5-20.jpg)\n\n::: notes\nIn this slide, filtering is used to remove unwanted observations so that we can focus on the observation we are interested to investigate.\n:::\n\n------------------------------------------------------------------------\n\n### Parallel Coordinates and boxplot\n\n![](img/image5-21.jpg)\n\n::: notes\nAddition statistical graphics such as boxplot can be used to provide context for more effective visual data exploration and analysis.\n:::\n\n------------------------------------------------------------------------\n\n### Static Parallel Coordinates Plot in R\n\n-   [ggparcoord()](Parallel%20coordinate%20plot) is a function of [**GGally**](https://ggobi.github.io/ggally/index.html) package for plotting static parallel coordinate plots, utilizing the ggplot2 graphics package.\n\n![](img/image5-22.jpg)\n\n------------------------------------------------------------------------\n\n### Interactive Parallel Coordinates Plot in R\n\n-   [**parcoords**](https://cran.r-project.org/web/packages/parcoords/) package creates interactive parallel coordinates charts with this 'htmlwidget' wrapper for [`d3.js`](https://d3js.org/), a JavaScript library for manipulating documents based on data and for creating high interactive data visualisation.\n\n\n::: {.cell}\n\n:::\n\n\n::: notes\nIn this slide, brush interactive function is implemented for selecting observation of interest.\n:::\n\n------------------------------------------------------------------------\n\n### Interactive Parallel Coordinates Plot in R\n\n-   [**parallelPlot**](https://cran.r-project.org/web/packages/parallelPlot/) is an R package specially designed to plot a parallel coordinates plot by using 'htmlwidgets' package and [d3.js](https://d3js.org/).\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"parallelPlot html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-80f11a703ae19b8ae759\" style=\"width:1344px;height:960px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-80f11a703ae19b8ae759\">{\"x\":{\"data\":{\"GDP per capita\":[0.916,0.915,1.054,1.115,1.233,1.2,1.171,0.855,1.148,1.197,0.959,1.017,1.176,1.116,0.975,1.21,1.219,0.816,1.024,1.039,0.853,1.143,0.53,0.657,1.151,0.474,1.016,0.793,0.719,0.989,1.405,1.294,0.914,1.266,1.365,1.073,0.807,0.751,0.986,1.131,0.96,1.01,0.982,0.889,0.806,0.781,0.315,0.62,0.819,1.038,0.668,1.112,0.835,0.934,1.223,1.093,0.996,0.979,1.338,0.885,1.059,1.01,1.244,0.822,1.474,0.965,0.985,0.779,0.642,1.649,1.379,0.689,0.9,1.148,1.467,0.442,1.34,1.33,1.268,1.398,0.332,0.532,0.796,0.721,0.425,0.652,0.918,0.549,0.899,0.72,1.161,0.682,0.775,1.529,1.016,0.715,0.73,0.378,1.017,0.314,0.091,0.535,0.024,0.358,0.682,0.069,0.308,1.036,0.592,0.344,0.541,0.493,0.472,0.076,0.262,0.186,0.37,0.557,1.09,0.198,0.874,0.131,0.689,0.332,0.429,0.256,0,0.94,0.337,0.605,0.455,0.259,0.322,0.562,0.357,1.341,1.324,1.229,1.351,1.305,1.293,1.34,1.154,1.343,1.448,1.264,1.576,1.27,1.361,1.229,1.456,1.188,1.251,1.355,1.42,1.301],\"Social support\":[0.817,1.078,1.515,1.161,1.489,1.532,1.401,1.23,1.454,1.527,1.239,1.279,1.448,1.219,1.369,1.537,1.506,0.99,1.161,1.498,0.592,1.516,1.416,1.301,1.479,1.179,1.533,1.413,1.584,1.142,1.29,1.462,1.517,1.204,1.436,1.468,1.101,1.223,1.474,1.331,1.439,1.459,1.441,1.33,1.231,1.268,0.714,1.205,1.493,1.252,1.319,1.438,1.522,1.249,1.492,1.459,1.469,1.154,1.366,1.025,0.771,0.971,1.433,1.265,1.301,1.166,1.35,0.797,1.217,1.303,1.331,0.382,0.906,1.38,1.296,1.073,1.573,1.532,1.601,1.471,0.537,0.85,1.335,0.747,1.228,0.81,1.314,1.088,1.215,1.034,1.258,1.174,1.312,1.451,1.417,1.365,1.125,0.372,1.174,1.097,0.627,0.891,0,0.907,0.811,1.136,0.95,1.164,0.896,0.792,0.872,1.048,1.215,0.858,0.908,0.541,1.233,1.245,1.387,0.902,1.281,0.867,1.172,0.896,1.117,0.813,0.712,1.41,0.608,1.24,0.991,0.474,1.09,1.047,1.094,1.504,1.483,1.191,1.59,1.592,1.466,1.474,1.202,1.644,1.583,1.501,1.52,1.525,1.488,1.211,1.582,1.429,1.538,1.501,1.549,1.559],\"Healthy life expectancy\":[0.79,0.758,0.712,0.737,0.854,0.737,0.732,0.578,0.671,0.716,0.691,0.729,0.781,0.726,0.685,0.776,0.856,0.666,0.603,0.7,0.643,0.631,0.594,0.62,0.599,0.598,0.517,0.609,0.605,0.799,1.03,0.988,0.575,0.955,0.857,0.744,0.474,0.508,0.675,0.808,0.635,0.817,0.614,0.736,0.639,0.608,0.289,0.622,0.693,0.761,0.7,0.759,0.615,0.674,0.564,0.771,0.657,0.687,0.698,0.553,0.691,0.536,0.888,0.645,0.675,0.785,0.553,0.669,0.602,0.748,0.633,0.539,0.69,0.686,0.776,0.343,0.91,0.896,0.876,0.819,0.255,0.579,0.527,0.485,0.539,0.424,0.672,0.457,0.522,0.441,0.669,0.429,0.513,1.008,0.707,0.702,0.269,0.24,0.417,0.254,0.145,0.182,0.01,0.053,0.343,0.204,0.391,0.404,0.337,0.211,0.08,0.454,0.079,0.267,0.402,0.306,0.152,0.292,0.684,0.173,0.365,0.221,0.048,0.4,0.433,0,0.115,0.33,0.177,0.312,0.381,0.253,0.237,0.295,0.248,0.891,0.894,0.909,0.868,0.874,0.908,0.861,0.879,0.914,0.876,0.946,0.896,0.884,0.878,0.909,0.861,0.884,0.965,0.913,0.927,0.883],\"Freedom to make life choices\":[0.419,0.28,0.359,0.38,0.543,0.553,0.259,0.448,0.363,0.35,0.394,0.259,0.546,0.528,0.288,0.354,0.633,0.26,0.43,0.307,0.375,0.454,0.54,0.232,0.399,0.503,0.417,0.163,0.724,0.597,0.524,0.553,0.395,0.244,0.418,0.57,0.593,0.606,0.493,0.431,0.531,0.632,0.578,0.556,0.461,0.604,0.025,0.459,0.575,0.479,0.527,0.597,0.541,0.53,0.575,0.625,0.133,0.077,0.594,0.312,0.459,0.304,0.464,0.468,0.554,0.292,0.496,0.46,0.266,0.654,0.509,0.088,0.271,0.324,0.67,0.244,0.647,0.653,0.669,0.547,0.085,0.58,0.541,0.539,0.526,0.334,0.585,0.696,0.538,0.626,0.356,0.58,0.643,0.631,0.637,0.618,0,0.44,0.557,0.312,0.065,0.454,0.305,0.189,0.514,0.312,0.452,0.356,0.499,0.394,0.467,0.504,0.423,0.419,0.221,0.531,0.367,0.129,0.584,0.531,0.519,0.39,0.462,0.636,0.406,0.355,0.674,0.516,0.112,0.016,0.481,0.434,0.45,0.503,0.406,0.617,0.583,0.423,0.683,0.681,0.52,0.586,0.131,0.677,0.614,0.281,0.632,0.645,0.638,0.495,0.686,0.562,0.449,0.659,0.66,0.533],\"Generosity\":[0.149,0.216,0.064,0.12,0.064,0.086,0.061,0.274,0.092,0.026,0.173,0.111,0.108,0.088,0.134,0.118,0.16,0.077,0.031,0.101,0.038,0.148,0.281,0.171,0.065,0.214,0.199,0.187,0.328,0.029,0.246,0.079,0.253,0.175,0.151,0.062,0.183,0.141,0.11,0.197,0.099,0.143,0.12,0.114,0.065,0.179,0.392,0.197,0.096,0.069,0.208,0.125,0.162,0.092,0.171,0.13,0.056,0.055,0.243,0.092,0.282,0.148,0.262,0.13,0.167,0.187,0.116,0.026,0.086,0.256,0.098,0.376,0.04,0.106,0.284,0.083,0.361,0.321,0.365,0.291,0.191,0.153,0.364,0.172,0.302,0.216,0.307,0.256,0.484,0.23,0.311,0.598,0.12,0.261,0.364,0.177,0.079,0.163,0.042,0.175,0.149,0.183,0.218,0.181,0.091,0.197,0.22,0.032,0.212,0.185,0.146,0.352,0.116,0.206,0.155,0.21,0.139,0.134,0.245,0.206,0.051,0.175,0.201,0.2,0.138,0.238,0.238,0.103,0.224,0.134,0.27,0.158,0.259,0.221,0.132,0.242,0.188,0.202,0.284,0.192,0.098,0.273,0,0.353,0.307,0.137,0.196,0.376,0.333,0.179,0.286,0.055,0.142,0.285,0.256,0.354],\"Perceptions of corruption\":[0.032,0,0.009,0.039,0.034,0.174,0.022,0.023,0.066,0.006,0.052,0.081,0.064,0.001,0.043,0.014,0.051,0.028,0.176,0.154,0.215,0.121,0.035,0,0.025,0.136,0.037,0.011,0.259,0.103,0.291,0.15,0.032,0.051,0.078,0.054,0.089,0.054,0.088,0.061,0.039,0.101,0.106,0.12,0.082,0.071,0.104,0.074,0.031,0.095,0.128,0.063,0.074,0.034,0.019,0.155,0.052,0.135,0.123,0.107,0.129,0.095,0.082,0.134,0.106,0.034,0.148,0.074,0.076,0.171,0.127,0.144,0.063,0.109,0.186,0.064,0.302,0.291,0.389,0.133,0.036,0.144,0.171,0.093,0.078,0.113,0.05,0.065,0.018,0.174,0.059,0.178,0.105,0.457,0.029,0.079,0.061,0.067,0.092,0.128,0.076,0.043,0.038,0.06,0.077,0.052,0.146,0.052,0.029,0.094,0.103,0.055,0.112,0.03,0.049,0.08,0.056,0.093,0.05,0.158,0.064,0.099,0.032,0.444,0.082,0.053,0.282,0.056,0.106,0.082,0.097,0.101,0.061,0.082,0.099,0.224,0.24,0.035,0.408,0.393,0.176,0.28,0.044,0.138,0.306,0.028,0.321,0.142,0.295,0.154,0.34,0.017,0.074,0.383,0.357,0.272]},\"rowLabels\":[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\"],\"categorical\":[null,null,null,null,null,null],\"inputColumns\":null,\"keptColumns\":null,\"histoVisibility\":[true,true,true,true,true,true],\"invertedAxes\":null,\"cutoffs\":null,\"refRowIndex\":null,\"refColumnDim\":null,\"rotateTitle\":false,\"columnLabels\":null,\"continuousCS\":\"Viridis\",\"categoricalCS\":\"Category10\",\"eventInputId\":null,\"editionMode\":\"EditionOff\",\"controlWidgets\":false,\"cssRules\":null,\"sliderPosition\":null},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n::: notes\nIn this slide, the colour and highlighting interativity function are used to highlight observation of interest.\n:::\n\n## Reference\n\n-   [Radar Chart](http://en.wikipedia.org/wiki/Radar_chart).\n-   [Ternary plot](https://en.wikipedia.org/wiki/Ternary_plot), [this](http://csmres.jmu.edu/geollab/Fichter/SedRx/readternary.html) and [this](http://wvaughan.org/ternaryplots.html).\n-   Friendly, M (2002) \"Corrgrams: Exploratory Displays for Correlation Matrices\" The American Statistician, Vol. 56, No. 4, pp. 316-324.\n",
    "supporting": [
      "Lesson05-VMA_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.0/htmlwidgets.js\"></script>\r\n<script src=\"../../site_libs/d3-5.7.0/d3-5.15.0.min.js\"></script>\r\n<link href=\"../../site_libs/parallelPlot-0.2/parallelPlot.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/parallelPlot-0.2/pp.js\"></script>\r\n<script src=\"../../site_libs/parallelPlot-binding-0.2.0/parallelPlot.js\"></script>\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}